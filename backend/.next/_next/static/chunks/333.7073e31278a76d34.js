"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[333],{72333:(e,s,t)=>{t.r(s),t.d(s,{default:()=>ee});var a=t(95155),r=t(12115),l=t(60760),o=t(1978),i=t(90163);let d=(0,i.A)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),n=(0,i.A)("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),c=(0,i.A)("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]),m=(0,i.A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),p=(0,i.A)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);var h=t(54416),u=t(43453),x=t(9428);let y=(0,i.A)("ListTodo",[["rect",{x:"3",y:"5",width:"6",height:"6",rx:"1",key:"1defrl"}],["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]]),g=(0,i.A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),f=(0,i.A)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]),b=(0,i.A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var k=t(66474),v=t(13052),j=t(97168),N=t(89852),w=t(88482),A=t(82714),T=t(95784),C=t(27971),S=t(88145),z=t(99474),M=t(37777),D=t(16891),E=t(85185),$=t(46081),F=t(5845),R=t(52712),L=t(6101),B=t(63655),P=t(28905),H=t(61285),q="Collapsible",[I,K]=(0,$.A)(q),[_,G]=I(q),U=r.forwardRef((e,s)=>{let{__scopeCollapsible:t,open:l,defaultOpen:o,disabled:i,onOpenChange:d,...n}=e,[c,m]=(0,F.i)({prop:l,defaultProp:null!=o&&o,onChange:d,caller:q});return(0,a.jsx)(_,{scope:t,disabled:i,contentId:(0,H.B)(),open:c,onOpenToggle:r.useCallback(()=>m(e=>!e),[m]),children:(0,a.jsx)(B.sG.div,{"data-state":Q(c),"data-disabled":i?"":void 0,...n,ref:s})})});U.displayName=q;var O="CollapsibleTrigger",Z=r.forwardRef((e,s)=>{let{__scopeCollapsible:t,...r}=e,l=G(O,t);return(0,a.jsx)(B.sG.button,{type:"button","aria-controls":l.contentId,"aria-expanded":l.open||!1,"data-state":Q(l.open),"data-disabled":l.disabled?"":void 0,disabled:l.disabled,...r,ref:s,onClick:(0,E.m)(e.onClick,l.onOpenToggle)})});Z.displayName=O;var V="CollapsibleContent",J=r.forwardRef((e,s)=>{let{forceMount:t,...r}=e,l=G(V,e.__scopeCollapsible);return(0,a.jsx)(P.C,{present:t||l.open,children:e=>{let{present:t}=e;return(0,a.jsx)(W,{...r,ref:s,present:t})}})});J.displayName=V;var W=r.forwardRef((e,s)=>{let{__scopeCollapsible:t,present:l,children:o,...i}=e,d=G(V,t),[n,c]=r.useState(l),m=r.useRef(null),p=(0,L.s)(s,m),h=r.useRef(0),u=h.current,x=r.useRef(0),y=x.current,g=d.open||n,f=r.useRef(g),b=r.useRef(void 0);return r.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,R.N)(()=>{let e=m.current;if(e){b.current=b.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let s=e.getBoundingClientRect();h.current=s.height,x.current=s.width,f.current||(e.style.transitionDuration=b.current.transitionDuration,e.style.animationName=b.current.animationName),c(l)}},[d.open,l]),(0,a.jsx)(B.sG.div,{"data-state":Q(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!g,...i,ref:p,style:{"--radix-collapsible-content-height":u?"".concat(u,"px"):void 0,"--radix-collapsible-content-width":y?"".concat(y,"px"):void 0,...e.style},children:g&&o})});function Q(e){return e?"open":"closed"}var X=t(6874),Y=t.n(X);let ee=()=>{let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)(""),[E,$]=(0,r.useState)("all"),[F,R]=(0,r.useState)(null),[L,B]=(0,r.useState)(""),[P,H]=(0,r.useState)("medium"),[q,I]=(0,r.useState)(!0),[K,_]=(0,r.useState)(!1),[G,O]=(0,r.useState)(""),[V,W]=(0,r.useState)(null),[Q,X]=(0,r.useState)(null),[ee,es]=(0,r.useState)(""),[et,ea]=(0,r.useState)([]);(0,r.useEffect)(()=>{let e=localStorage.getItem("todos");if(e){console.log("DEBUG: Raw savedTodos from localStorage:",e);try{let t=JSON.parse(e);console.log("localStorage rawParsedTodos:",t,"Type:",typeof t);let a=Array.isArray(t)?t:[];console.log("localStorage ensuredTodosArray:",a,"Type:",typeof a);let r=a.map(e=>{console.log("Processing todo from localStorage - todo:",e,"Type of todo.subtasks:",typeof e.subtasks);let s=Array.isArray(e.subtasks)?e.subtasks:[];return{...e,subtasks:s}});console.log("localStorage processedTodos for setTodos:",r),s(r),console.log("localStorage initialExpanded - processedTodos:",r,"Type:",typeof r);let l=r.filter(e=>(Array.isArray(e.subtasks)?e.subtasks:[]).length>0).map(e=>e.id);ea(l)}catch(e){console.error("DEBUG: Failed to parse todos from localStorage or process them:",e),s([]),ea([])}}else console.log("DEBUG: No saved todos found in localStorage. Initializing with empty array."),s([]),ea([]);setTimeout(()=>{_(!0)},300)},[]),(0,r.useEffect)(()=>{localStorage.setItem("todos",JSON.stringify(e))},[e]);let er=()=>{""!==t.trim()&&(s([{id:Date.now().toString(),text:t.trim(),completed:!1,priority:P,createdAt:Date.now(),subtasks:[]},...e]),i(""))},el=e=>{s(s=>(console.log("toggleTodo - prevTodos:",s,"Type:",typeof s),(Array.isArray(s)?s:[]).map(s=>{if(s.id===e){console.log("toggleTodo - current todo.subtasks:",s.subtasks,"Type:",typeof s.subtasks);let e=Array.isArray(s.subtasks)?s.subtasks:[],t=s.completed?e:e.map(e=>({...e,completed:!0}));return{...s,completed:!s.completed,subtasks:t}}return s})))},eo=e=>{s(s=>(console.log("deleteTodo - prevTodos:",s,"Type:",typeof s),(Array.isArray(s)?s:[]).filter(s=>s.id!==e)))},ei=e=>{R(e.id),B(e.text)},ed=()=>{null!==F&&(s(e=>(console.log("saveEdit - prevTodos:",e,"Type:",typeof e),(Array.isArray(e)?e:[]).map(e=>e.id===F?{...e,text:L.trim()}:e))),R(null))},en=()=>{R(null)},ec=e=>{ea(s=>s.includes(e)?s.filter(s=>s!==e):[...s,e])},em=e=>{G.trim()&&(s(s=>(console.log("addSubtask - prevTodos:",s,"Type:",typeof s),(Array.isArray(s)?s:[]).map(s=>{if(s.id===e){let t={id:"".concat(e,"-sub-").concat(Date.now()),text:G.trim(),completed:!1,createdAt:Date.now()};console.log("addSubtask - current todo.subtasks:",s.subtasks,"Type:",typeof s.subtasks);let a=Array.isArray(s.subtasks)?s.subtasks:[];return{...s,subtasks:[...a,t]}}return s}))),O(""),W(null))},ep=(e,t)=>{s(s=>(console.log("toggleSubtask - prevTodos:",s,"Type:",typeof s),(Array.isArray(s)?s:[]).map(s=>{if(s.id===e){console.log("toggleSubtask - current todo.subtasks:",s.subtasks,"Type:",typeof s.subtasks);let e=(Array.isArray(s.subtasks)?s.subtasks:[]).map(e=>e.id===t?{...e,completed:!e.completed}:e),a=e.every(e=>e.completed);return{...s,subtasks:e,completed:!!a||s.completed}}return s})))},eh=(e,t)=>{s(s=>(console.log("deleteSubtask - prevTodos:",s,"Type:",typeof s),(Array.isArray(s)?s:[]).map(s=>{if(s.id===e){console.log("deleteSubtask - current todo.subtasks:",s.subtasks,"Type:",typeof s.subtasks);let e=Array.isArray(s.subtasks)?s.subtasks:[];return{...s,subtasks:e.filter(e=>e.id!==t)}}return s})))},eu=(e,s)=>{X(s.id),es(s.text)},ex=e=>{null!==Q&&(s(s=>(console.log("saveSubtaskEdit - prevTodos:",s,"Type:",typeof s),(Array.isArray(s)?s:[]).map(s=>{if(s.id===e){console.log("saveSubtaskEdit - current todo.subtasks:",s.subtasks,"Type:",typeof s.subtasks);let e=Array.isArray(s.subtasks)?s.subtasks:[];return{...s,subtasks:e.map(e=>e.id===Q?{...e,text:ee.trim()}:e)}}return s}))),X(null),es(""))},ey=()=>{X(null),es("")};console.log("filteredTodos - todos:",e,"Type:",typeof e);let eg=[...(Array.isArray(e)?e:[]).filter(e=>"all"===E?!!q||!e.completed:"active"===E?!e.completed:"completed"!==E||e.completed)].sort((e,s)=>{let t={high:3,medium:2,low:1},a=t[s.priority]-t[e.priority];return 0!==a?a:s.createdAt-e.createdAt}),ef=e=>{switch(e){case"high":return"bg-red-100 dark:bg-red-900/20 text-red-800 dark:text-red-300 border-red-200 dark:border-red-800/50";case"medium":return"bg-yellow-100 dark:bg-yellow-900/20 text-yellow-800 dark:text-yellow-300 border-yellow-200 dark:border-yellow-800/50";case"low":return"bg-green-100 dark:bg-green-900/20 text-green-800 dark:text-green-300 border-green-200 dark:border-green-800/50";default:return""}},eb=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return(0,a.jsxs)("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/30 text-foreground",children:[(0,a.jsxs)("header",{className:"sticky top-0 z-10 flex items-center justify-between py-3 px-4 border-b border-border bg-background/90 shadow-sm backdrop-blur-md",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,a.jsxs)(Y(),{href:"/",className:"flex items-center text-primary hover:text-primary/80 transition-colors",children:[(0,a.jsx)(d,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{className:"text-sm",children:"Back to Home"})]}),(0,a.jsxs)("h1",{className:"font-bold text-xl flex items-center",children:[(0,a.jsx)(n,{className:"h-5 w-5 mr-2 text-yellow-500"}),"Secret Todo List"]})]}),(0,a.jsx)(C.U,{})]}),(0,a.jsx)("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:(0,a.jsx)(l.N,{mode:"wait",children:K&&(0,a.jsx)(o.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:(0,a.jsxs)(w.Zp,{className:"shadow-lg border-t-4 border-t-primary",children:[(0,a.jsxs)(w.aR,{className:"pb-3",children:[(0,a.jsxs)(w.ZB,{className:"text-2xl flex items-center",children:[(0,a.jsx)(c,{className:"mr-2 h-6 w-6 text-primary"}),"My Todo List"]}),(0,a.jsx)(w.BT,{children:"Keep track of your tasks and stay organized"})]}),(0,a.jsxs)(w.Wu,{className:"space-y-5",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(A.J,{htmlFor:"new-todo",className:"text-sm font-medium",children:"Add New Task"}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-2",children:[(0,a.jsx)("div",{className:"flex-grow",children:(0,a.jsx)(z.T,{id:"new-todo",value:t,onChange:e=>i(e.target.value),onKeyDown:e=>"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),er()),placeholder:"What needs to be done?",className:"min-h-[60px] resize-none"})}),(0,a.jsxs)("div",{className:"flex gap-2 items-start",children:[(0,a.jsxs)(T.l6,{value:P,onValueChange:e=>H(e),children:[(0,a.jsx)(T.bq,{className:"w-32",children:(0,a.jsx)(T.yv,{placeholder:"Priority"})}),(0,a.jsxs)(T.gC,{children:[(0,a.jsx)(T.eb,{value:"low",children:"Low"}),(0,a.jsx)(T.eb,{value:"medium",children:"Medium"}),(0,a.jsx)(T.eb,{value:"high",children:"High"})]})]}),(0,a.jsxs)(j.$,{onClick:er,className:"bg-primary hover:bg-primary/90",children:[(0,a.jsx)(m,{className:"mr-1 h-4 w-4"}),"Add"]})]})]})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-2 pt-2 border-t",children:[(0,a.jsxs)("div",{className:"flex flex-wrap space-x-2",children:[(0,a.jsx)(j.$,{variant:"all"===E?"default":"outline",size:"sm",onClick:()=>$("all"),children:"All"}),(0,a.jsx)(j.$,{variant:"active"===E?"default":"outline",size:"sm",onClick:()=>$("active"),children:"Active"}),(0,a.jsx)(j.$,{variant:"completed"===E?"default":"outline",size:"sm",onClick:()=>$("completed"),children:"Completed"})]}),(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(M.Bc,{children:(0,a.jsxs)(M.m_,{children:[(0,a.jsx)(M.k$,{asChild:!0,children:(0,a.jsx)(j.$,{variant:"ghost",size:"sm",onClick:()=>I(!q),className:"completed"===E?"invisible":"",children:q?"Hide Completed":"Show Completed"})}),(0,a.jsx)(M.ZI,{children:(0,a.jsx)("p",{children:q?"Hide completed tasks from view":"Show completed tasks"})})]})})})]}),(0,a.jsx)(D.F,{className:"h-[350px] pr-4",children:(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)(l.N,{children:[0===eg.length&&(0,a.jsxs)(o.P.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"py-10 text-center text-muted-foreground",children:[(0,a.jsx)("div",{className:"inline-flex rounded-full p-4 bg-muted/50",children:(0,a.jsx)(c,{className:"h-6 w-6 text-muted-foreground/70"})}),(0,a.jsx)("p",{className:"mt-4",children:"No tasks found. Add some tasks to get started!"})]}),(console.log("Render sortedTodos - sortedTodos:",eg,"Type:",typeof eg),(Array.isArray(eg)?eg:[]).map(e=>(0,a.jsx)(o.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,height:0,marginBottom:0,marginTop:0},transition:{duration:.2},className:"border rounded-md p-3 ".concat(e.completed?"bg-muted/50 border-muted":"bg-card border-border hover:border-primary/50 hover:shadow-sm transition-all"),children:F===e.id?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(z.T,{value:L,onChange:e=>B(e.target.value),onKeyDown:e=>"Enter"===e.key&&!e.shiftKey&&(e.preventDefault(),ed()),autoFocus:!0,className:"min-h-[60px] flex-grow"}),(0,a.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,a.jsx)(j.$,{size:"sm",variant:"default",onClick:ed,children:(0,a.jsx)(p,{className:"h-4 w-4"})}),(0,a.jsx)(j.$,{size:"sm",variant:"ghost",onClick:en,children:(0,a.jsx)(h.A,{className:"h-4 w-4"})})]})]}):(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("button",{onClick:()=>el(e.id),className:"mt-1 flex-shrink-0 hover:scale-110 transition-transform",title:e.completed?"Mark as incomplete":"Mark as complete",children:e.completed?(0,a.jsx)(u.A,{className:"h-6 w-6 text-primary"}):(0,a.jsx)(x.A,{className:"h-6 w-6 text-muted-foreground hover:text-primary"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"".concat(e.completed?"line-through text-muted-foreground":"font-medium"),children:e.text}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[(0,a.jsx)(S.E,{variant:"outline",className:"".concat(ef(e.priority)),children:e.priority.charAt(0).toUpperCase()+e.priority.slice(1)}),(()=>{console.log("Render Badge subtask count - todo.subtasks:",e.subtasks,"Type:",typeof e.subtasks,"for todo.id:",e.id);let s=Array.isArray(e.subtasks)?e.subtasks:[];return s.length>0&&(0,a.jsxs)(S.E,{variant:"outline",className:"bg-blue-100 dark:bg-blue-900/20 text-blue-800 dark:text-blue-300 border-blue-200 dark:border-blue-800/50",children:[(0,a.jsx)(y,{className:"h-3 w-3 mr-1"}),s.filter(e=>e.completed).length,"/",s.length]})})(),(0,a.jsxs)("span",{className:"flex items-center text-muted-foreground",children:[(0,a.jsx)(g,{className:"h-3 w-3 mr-0.5"}),eb(e.createdAt)]})]})]})]}),(0,a.jsxs)("div",{className:"flex space-x-1 ml-2",children:[!e.completed&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(j.$,{size:"sm",variant:"ghost",onClick:()=>{W(e.id),O(""),et.includes(e.id)||ec(e.id)},className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:"Add subtask",children:(0,a.jsx)(m,{className:"h-4 w-4"})}),(0,a.jsx)(j.$,{size:"sm",variant:"ghost",onClick:()=>ei(e),className:"h-8 w-8 p-0 hover:bg-primary/10 hover:text-primary",title:"Edit task",children:(0,a.jsx)(f,{className:"h-4 w-4"})})]}),(0,a.jsx)(j.$,{size:"sm",variant:"ghost",onClick:()=>eo(e.id),className:"h-8 w-8 p-0 hover:bg-destructive/10 hover:text-destructive",title:"Delete task",children:(0,a.jsx)(b,{className:"h-4 w-4"})})]})]}),(()=>{console.log("Render Collapsible subtasks section - todo.subtasks:",e.subtasks,"Type:",typeof e.subtasks,"for todo.id:",e.id);let s=Array.isArray(e.subtasks)?e.subtasks:[];return s.length>0&&(0,a.jsxs)(U,{open:et.includes(e.id),onOpenChange:()=>ec(e.id),className:"ml-9 mt-2",children:[(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsx)(Z,{asChild:!0,children:(0,a.jsxs)(j.$,{variant:"ghost",size:"sm",className:"p-0 h-6 hover:bg-transparent",children:[et.includes(e.id)?(0,a.jsx)(k.A,{className:"h-4 w-4 mr-1 text-muted-foreground"}):(0,a.jsx)(v.A,{className:"h-4 w-4 mr-1 text-muted-foreground"}),(0,a.jsxs)("span",{className:"text-xs text-muted-foreground",children:[et.includes(e.id)?"Hide":"Show"," ",s.length," subtask",1!==s.length?"s":""]})]})})}),(0,a.jsx)(J,{className:"mt-1",children:(0,a.jsxs)("div",{className:"space-y-2 border-l-2 border-muted pl-3",children:[(console.log("Render subtasks list - ensuredSubtasksForCollapsible:",s,"Type:",typeof s,"for todo.id:",e.id),s.map(s=>(0,a.jsx)("div",{className:"py-1 px-2 rounded ".concat(s.completed?"bg-muted/30":"bg-card"),children:Q===s.id?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(N.p,{value:ee,onChange:e=>es(e.target.value),onKeyDown:s=>"Enter"===s.key&&ex(e.id),autoFocus:!0,className:"flex-grow h-7 text-sm"}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsx)(j.$,{size:"sm",variant:"ghost",onClick:()=>ex(e.id),className:"h-7 w-7 p-0",children:(0,a.jsx)(p,{className:"h-3 w-3"})}),(0,a.jsx)(j.$,{size:"sm",variant:"ghost",onClick:ey,className:"h-7 w-7 p-0",children:(0,a.jsx)(h.A,{className:"h-3 w-3"})})]})]}):(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("button",{onClick:()=>ep(e.id,s.id),className:"flex-shrink-0",children:s.completed?(0,a.jsx)(u.A,{className:"h-4 w-4 text-primary"}):(0,a.jsx)(x.A,{className:"h-4 w-4 text-muted-foreground hover:text-primary"})}),(0,a.jsx)("span",{className:"text-sm ".concat(s.completed?"line-through text-muted-foreground":""),children:s.text})]}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[!s.completed&&(0,a.jsx)(j.$,{size:"sm",variant:"ghost",onClick:()=>eu(e.id,s),className:"h-6 w-6 p-0",children:(0,a.jsx)(f,{className:"h-3 w-3"})}),(0,a.jsx)(j.$,{size:"sm",variant:"ghost",onClick:()=>eh(e.id,s.id),className:"h-6 w-6 p-0",children:(0,a.jsx)(b,{className:"h-3 w-3"})})]})]})},s.id))),V===e.id&&(0,a.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,a.jsx)(N.p,{value:G,onChange:e=>O(e.target.value),placeholder:"Add new subtask...",className:"flex-grow h-7 text-sm",onKeyDown:s=>"Enter"===s.key&&em(e.id),autoFocus:!0}),(0,a.jsxs)("div",{className:"flex space-x-1",children:[(0,a.jsxs)(j.$,{size:"sm",variant:"default",onClick:()=>em(e.id),className:"h-7",children:[(0,a.jsx)(m,{className:"h-3 w-3 mr-1"}),"Add"]}),(0,a.jsx)(j.$,{size:"sm",variant:"ghost",onClick:()=>W(null),className:"h-7 p-0 w-7",children:(0,a.jsx)(h.A,{className:"h-3 w-3"})})]})]})]})})]})})()]})},e.id)))]})})})]}),(0,a.jsxs)(w.wL,{className:"flex flex-wrap justify-between gap-2 border-t pt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)(S.E,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:[(console.log("Footer items left - todos:",e,"Type:",typeof e),(Array.isArray(e)?e:[]).filter(e=>!e.completed).length)," items left"]}),(console.log("Footer completed count check - todos:",e,"Type:",typeof e),(Array.isArray(e)?e:[]).filter(e=>e.completed).length>0&&(0,a.jsxs)(S.E,{variant:"outline",className:"bg-muted",children:[(console.log("Footer completed count display - todos:",e,"Type:",typeof e),(Array.isArray(e)?e:[]).filter(e=>e.completed).length)," completed"]}))]}),(0,a.jsxs)(j.$,{variant:"outline",size:"sm",onClick:()=>s(e=>(console.log("Footer clear completed - prevTodos:",e,"Type:",typeof e),(Array.isArray(e)?e:[]).filter(e=>!e.completed))),disabled:(console.log("Footer clear completed (disabled check) - todos:",e,"Type:",typeof e),!(Array.isArray(e)?e:[]).some(e=>e.completed)),className:(console.log("Footer clear completed (className check) - todos:",e,"Type:",typeof e),(Array.isArray(e)?e:[]).some(e=>e.completed))?"hover:bg-destructive/10 hover:text-destructive hover:border-destructive/50":"",children:[(0,a.jsx)(b,{className:"mr-1 h-3.5 w-3.5"}),"Clear completed"]})]})]})})})})]})}}}]);